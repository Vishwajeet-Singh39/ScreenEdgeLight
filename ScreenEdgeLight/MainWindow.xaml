<Window x:Class="ScreenEdgeLight.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Screen Edge Light"
        Height="340"
        Width="400"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanMinimize"
        Background="#F3F3F3"
        FontFamily="Segoe UI">

    <Window.Resources>

        <!-- Accent brushes -->
        <SolidColorBrush x:Key="AccentBrush" Color="#24A148"/>
        <SolidColorBrush x:Key="AccentBrushLight" Color="#E5F6EA"/>

        <!-- Primary toggle style (Enable light) -->
        <Style x:Key="PrimaryToggleStyle" TargetType="ToggleButton">
            <Setter Property="Width" Value="140"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="{StaticResource AccentBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="10,4"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#E0E0E0"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#C0C0C0"/>
                                <Setter Property="Foreground" Value="#222222"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#3AA65A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Color mode toggle style (Warm / Neutral / Cool) -->
        <Style x:Key="ColorToggleStyle" TargetType="ToggleButton">
            <Setter Property="Width" Value="80"/>
            <Setter Property="Height" Value="26"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Margin" Value="4,0,0,0"/>
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="BorderBrush" Value="#CCCCCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="6,2"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="border" Property="Background"
                                        Value="{StaticResource AccentBrush}"/>
                                <Setter TargetName="border" Property="BorderBrush"
                                        Value="{StaticResource AccentBrush}"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush"
                                        Value="{StaticResource AccentBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Secondary button (Minimize to tray) -->
        <Style x:Key="SecondaryButtonStyle" TargetType="Button">
            <Setter Property="Width" Value="130"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#222222"/>
            <Setter Property="Background" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#D0D0D0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="10,3"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#F3F3F3"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#B0B0B0"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#E0E0E0"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Pretty slider: pill track + accent fill + circular thumb -->
        <!-- Decrease side (left) shows accent color -->
        <Style x:Key="SliderTrackDecrease" TargetType="RepeatButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RepeatButton">
                        <Border Height="4"
                                Background="{StaticResource AccentBrush}"
                                CornerRadius="2"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Increase side (right) shows neutral color -->
        <Style x:Key="SliderTrackIncrease" TargetType="RepeatButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RepeatButton">
                        <Border Height="4"
                                Background="#E0E0E0"
                                CornerRadius="2"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Slider thumb -->
        <Style x:Key="SliderThumbStyle" TargetType="Thumb">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Thumb">
                        <Grid>
                            <Ellipse Width="16" Height="16" Fill="White" Stroke="{StaticResource AccentBrush}" StrokeThickness="2">
                                <Ellipse.Effect>
                                    <DropShadowEffect BlurRadius="8"
                                                      ShadowDepth="0"
                                                      Color="#66000000"
                                                      Opacity="0.6"/>
                                </Ellipse.Effect>
                            </Ellipse>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Main slider style -->
        <Style x:Key="ModernSlider" TargetType="Slider">
            <Setter Property="Height" Value="26"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Slider">
                        <Grid Margin="0,6,0,0">
                            <Track x:Name="PART_Track"
                                   Maximum="{TemplateBinding Maximum}"
                                   Minimum="{TemplateBinding Minimum}"
                                   Value="{TemplateBinding Value}">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Style="{StaticResource SliderTrackDecrease}"
                                                  Command="Slider.DecreaseLarge"/>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Style="{StaticResource SliderTrackIncrease}"
                                                  Command="Slider.IncreaseLarge"/>
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Style="{StaticResource SliderThumbStyle}"/>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Section header text -->
        <Style x:Key="SectionHeader" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#333333"/>
            <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>

    </Window.Resources>

    <Grid Margin="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="10"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Orientation="Horizontal">
            <TextBlock Text="Screen Edge Light"
                       FontSize="16"
                       FontWeight="SemiBold"
                       Foreground="#222222"/>
            <TextBlock Text="  â€¢  Video call fill"
                       FontSize="12"
                       Foreground="#808080"
                       VerticalAlignment="Center"/>
        </StackPanel>

        <!-- Card -->
        <Border Grid.Row="2"
                Background="White"
                CornerRadius="12"
                Padding="14"
                BorderBrush="#14000000"
                BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>   <!-- enable -->
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>   <!-- thickness -->
                    <RowDefinition Height="10"/>
                    <RowDefinition Height="Auto"/>   <!-- brightness -->
                    <RowDefinition Height="10"/>
                    <RowDefinition Height="Auto"/>   <!-- color -->
                    <RowDefinition Height="10"/>
                    <RowDefinition Height="Auto"/>   <!-- tray -->
                </Grid.RowDefinitions>

                <!-- Enable light toggle -->
                <StackPanel Grid.Row="0" Orientation="Horizontal">
                    <ToggleButton x:Name="EnableToggle"
                                  Style="{StaticResource PrimaryToggleStyle}"
                                  Content="Edge light ON"
                                  IsChecked="True"
                                  Click="EnableToggle_Click"/>
                    <TextBlock Text="Enable / disable overlay"
                               Margin="10,6,0,0"
                               FontSize="12"
                               Foreground="#777777"/>
                </StackPanel>

                <!-- Thickness slider -->
                <StackPanel Grid.Row="2">
                    <TextBlock Text="Edge thickness"
                               Style="{StaticResource SectionHeader}"/>
                    <StackPanel Orientation="Horizontal">
                        <Slider x:Name="ThicknessSlider"
                                Minimum="0"
                                Maximum="300"
                                Value="80"
                                Width="230"
                                Style="{StaticResource ModernSlider}"
                                VerticalAlignment="Center"
                                ValueChanged="ThicknessSlider_ValueChanged"/>
                        <TextBlock Margin="8,0,0,0"
                                   VerticalAlignment="Center"
                                   Foreground="#666666"
                                   Text="{Binding ElementName=ThicknessSlider, Path=Value, StringFormat={}{0:0}px}"/>
                    </StackPanel>
                </StackPanel>

                <!-- Brightness slider -->
                <StackPanel Grid.Row="4" Margin="0,4,0,0">
                    <TextBlock Text="Brightness"
                               Style="{StaticResource SectionHeader}"/>
                    <StackPanel Orientation="Horizontal">
                        <Slider x:Name="OpacitySlider"
                                Minimum="0"
                                Maximum="1"
                                SmallChange="0.05"
                                LargeChange="0.1"
                                TickFrequency="0.05"
                                IsSnapToTickEnabled="False"
                                Value="1"
                                Width="230"
                                Style="{StaticResource ModernSlider}"
                                VerticalAlignment="Center"
                                ValueChanged="OpacitySlider_ValueChanged"/>
                        <TextBlock Margin="8,0,0,0"
                                   VerticalAlignment="Center"
                                   Foreground="#666666"
                                   Text="{Binding ElementName=OpacitySlider, Path=Value, StringFormat={}{0:P0}}"/>
                    </StackPanel>
                </StackPanel>

                <!-- Color mode toggles -->
                <StackPanel Grid.Row="6" Orientation="Horizontal">
                    <TextBlock Text="Color"
                               Style="{StaticResource SectionHeader}"
                               Margin="0,0,8,0"
                               VerticalAlignment="Center"/>
                    <ToggleButton x:Name="WarmToggle"
                                  Style="{StaticResource ColorToggleStyle}"
                                  Content="Warm"
                                  IsChecked="True"
                                  Click="WarmToggle_Click"/>
                    <ToggleButton x:Name="NeutralToggle"
                                  Style="{StaticResource ColorToggleStyle}"
                                  Content="Neutral"
                                  Click="NeutralToggle_Click"/>
                    <ToggleButton x:Name="CoolToggle"
                                  Style="{StaticResource ColorToggleStyle}"
                                  Content="Cool"
                                  Click="CoolToggle_Click"/>
                </StackPanel>

                <!-- Tray button + status -->
                <DockPanel Grid.Row="8" Margin="0,4,0,0">
                    <Button Content="Minimize to tray"
                            DockPanel.Dock="Right"
                            Style="{StaticResource SecondaryButtonStyle}"
                            Click="MinimizeToTray_Click"/>

                    <StackPanel Orientation="Horizontal"
                                VerticalAlignment="Center">
                        <!-- <Ellipse Width="8" Height="8" Fill="#24A148"
                                 VerticalAlignment="Center"/> -->
                        <!-- <TextBlock Text="  Running"
                                   FontSize="12"
                                   Foreground="#24A148"
                                   VerticalAlignment="Center"/> -->
                    </StackPanel>
                </DockPanel>
            </Grid>
        </Border>

        <!-- Tip -->
        <TextBlock Grid.Row="4"
                   Margin="2,4,0,0"
                   TextWrapping="Wrap"
                   FontSize="11"
                   Foreground="#777777">
            Place your video call window roughly in the center of the screen.
            The rounded edge light will act like a soft ring light on your face.
        </TextBlock>
    </Grid>
</Window>
